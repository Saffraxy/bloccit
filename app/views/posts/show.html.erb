<br>
<br>
<div>
    <%= render partial: 'votes/voter', locals: { post: @post } %>
  <h1>
    <%= @post.title %> <br>
    <small>
      submitted <%= time_ago_in_words(@post.created_at) %> ago by <%= @post.user.name %>
    </small>
  </h1>
</div>
<div class="row">
  <div class="col-md-8">
    <%= render partial: "labels/list", locals: { labels: @post.labels } %>
    <br />
  </div>
</div>
<br />
<div class="row">
  <div class="col-md-8">
    <p><%= @post.body %></p>
    <div>
      <h3>Comments</h3>
      <div class='js-comments'>
        <%= render @post.comments %>
      </div
    </div>
    <% if current_user %>
      <div class='new-comment'>
        <%= render 'comments/form', comment: Comment.new, post: @post %>
      </div>
    <% end %>
  </div>
  <% if user_is_authorized_for_post?(@post) %>
  <div class="col-md-4">
<!--we format a link as an Edit button which directs a user to /posts/@post.id/edit.
    edit_post_path(@post) is a helper method that is generated in routes.rb by
    resources :posts -->
    <%= link_to "Edit Post", edit_topic_post_path(@post.topic, @post), class: 'btn btn-success' %>
<!--we use link_to to create a delete button. The text on the button is Delete Post.
    We override the default method (:post) with :delete so that when the button is
    pressed the route called is the delete route. -->
    <%= link_to "Delete Post", [@post.topic, @post], method: :delete, class: 'btn btn-danger', data: {confirm: 'Are you sure you want to delete this post?'} %>
  </div>
  <% end %>
  <div class="col-md-4">
    <h3>
      <div class='js-points'>
        <%= render "points" %>
      </div>
    </h3>
    <% if current_user %>
      <%= render partial: 'favorites/favorite', locals: { post: @post } %>
    <% end %>
  </div>

</div>
